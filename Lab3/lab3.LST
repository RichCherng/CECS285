A51 MACRO ASSEMBLER  LAB3                                                                 03/03/2015 18:36:26 PAGE     1


MACRO ASSEMBLER A51 V8.02b
OBJECT MODULE PLACED IN lab3.OBJ
ASSEMBLER INVOKED BY: C:\Keil_v5\C51\BIN\A51.EXE lab3.a51 SET(SMALL) DEBUG EP

LOC  OBJ            LINE     SOURCE

0000                   1                             ORG 000
0000 78C0              2                             mov R0,#11000000b
0002 7E18              3                             mov R6,#00011000b
0004 750A80            4                             mov 10,#10000000b
0007 02000A            5                             LJMP MAIN
                       6                             
000A                   7     MAIN:           ;LJMP PATTERN1
000A E580              8                             mov A,P0
000C 54E0              9                             ANL A,#11100000b
000E F5A0             10                             mov P2,A
0010 118E             11                             ACALL DELAY
0012 B42005           12                             CJNE A,#20H,N1
0015 020059           13                             LJMP PATTERN1
0018 80F0             14                             SJMP MAIN
                      15                             ;CJNE A,#001,N1
                      16                             ;LJMP PATTERN1
                      17                             ;JMP MAIN
                      18                             
001A F5A0             19     N1:             mov P2,A
001C B44006           20                     CJNE A,#040H,N2
001F 02007D           21                     LJMP PATTERN2
0022 02000A           22                     LJMP MAIN
                      23                     
0025 F5A0             24     N2:             mov P2,A
0027 B46006           25                     CJNE A,#060H,N3
002A 759060           26                     mov P1,#060H
002D 02000A           27                     LJMP MAIN
                      28                     
0030 F5A0             29     N3:             mov P2,A
0032 B48006           30                     CJNE A,#080H,N4
0035 759080           31                     mov P1,#080H
0038 02000A           32                     LJMP MAIN
                      33                     
003B F5A0             34     N4:             mov P2,A
003D B4A006           35                     CJNE A,#0A0H,N5
0040 7590A0           36                     mov P1,#0A0H
0043 02000A           37                     LJMP MAIN
                      38                     
0046 F5A0             39     N5:             mov P2,A
0048 B4C006           40                     CJNE A,#0C0H,N6
004B 7590C0           41                     mov P1,#0C0H
004E 02000A           42                     LJMP MAIN
                      43                     
0051 F5A0             44     N6:             mov P2,A
0053 759007           45                     mov P1,#00000111b
0056 02000A           46                     LJMP MAIN               
                      47                             
                      48                     
0059 E8               49     PATTERN1:       mov A, R0
005A B4C004           50                             CJNE A,#11000000b,CHECK ; call check if false
005D F9               51                             mov R1,A ; indicator to go right
005E 02006A           52                             LJMP ROTATE
                      53                             ;ANL A,#11000000b
                      54                             ;JZ  CHANGE
                      55                             
0061 E8               56                             CHECK:          mov A,R0
0062 B40305           57                                                     CJNE A,#00000011b,ROTATE; Rotate if non of 
                             the condition is met
A51 MACRO ASSEMBLER  LAB3                                                                 03/03/2015 18:36:26 PAGE     2

0065 7900             58                                                     mov R1,#0 ; indicator to go left
0067 02006A           59                                                     LJMP ROTATE
                      60                             
006A E9               61                             ROTATE:         mov A, R1
006B 7008             62                                                     JNZ RROTATE; rotate right
006D E8               63                                                     mov A, R0
006E 23               64                                                     RL A
006F F8               65                                                     mov R0,A
0070 F590             66                                                     mov P1,A
0072 02000A           67                                                     LJMP MAIN
                      68                                             
0075 E8               69                             RROTATE:        mov A,R0
0076 03               70                                                     RR A
0077 F8               71                                                     mov R0,A
0078 F590             72                                                     mov P1,A
007A 02000A           73                                                     LJMP MAIN
                      74                       
007D EE               75     PATTERN2:       mov A, R6
007E 54F0             76                             ANL A,#11110000b
0080 23               77                             RL      A
0081 FF               78                             mov R7,A
0082 8FB0             79                             mov P3,R7
0084 EE               80                             mov A, R6
0085 540F             81                             ANL A,#00001111b
                      82                             ;RRC    A
0087 2F               83                             ADD A,R7
0088 FE               84                             mov R6,A
0089 F590             85                             mov P1,A
008B 02000A           86                             LJMP MAIN
                      87                             
                      88     
008E 7D30             89     DELAY: mov r5,#30H
0090 7CFF             90     lp3:   mov r4,#0FFH
0092 7BFF             91     lp2:   mov r3,#0FFH
0094 DBFE             92     lp1:   djnz r3,lp1
0096 DCFA             93            djnz r4,lp2
0098 DDF6             94                djnz r5,lp3
009A 22               95                RET
                      96                
                      97                
*** WARNING #A41 IN 97 (lab3.a51, LINE 97): MISSING 'END' STATEMENT
A51 MACRO ASSEMBLER  LAB3                                                                 03/03/2015 18:36:26 PAGE     3

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

CHECK. . . . . . .  C ADDR   0061H   A   
DELAY. . . . . . .  C ADDR   008EH   A   
LP1. . . . . . . .  C ADDR   0094H   A   
LP2. . . . . . . .  C ADDR   0092H   A   
LP3. . . . . . . .  C ADDR   0090H   A   
MAIN . . . . . . .  C ADDR   000AH   A   
N1 . . . . . . . .  C ADDR   001AH   A   
N2 . . . . . . . .  C ADDR   0025H   A   
N3 . . . . . . . .  C ADDR   0030H   A   
N4 . . . . . . . .  C ADDR   003BH   A   
N5 . . . . . . . .  C ADDR   0046H   A   
N6 . . . . . . . .  C ADDR   0051H   A   
P0 . . . . . . . .  D ADDR   0080H   A   
P1 . . . . . . . .  D ADDR   0090H   A   
P2 . . . . . . . .  D ADDR   00A0H   A   
P3 . . . . . . . .  D ADDR   00B0H   A   
PATTERN1 . . . . .  C ADDR   0059H   A   
PATTERN2 . . . . .  C ADDR   007DH   A   
ROTATE . . . . . .  C ADDR   006AH   A   
RROTATE. . . . . .  C ADDR   0075H   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  1 WARNING(S), 0 ERROR(S)
