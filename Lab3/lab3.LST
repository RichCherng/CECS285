A51 MACRO ASSEMBLER  LAB3                                                                 03/03/2015 18:39:59 PAGE     1


MACRO ASSEMBLER A51 V8.02b
OBJECT MODULE PLACED IN lab3.OBJ
ASSEMBLER INVOKED BY: C:\Keil_v5\C51\BIN\A51.EXE lab3.a51 SET(SMALL) DEBUG EP

LOC  OBJ            LINE     SOURCE

0000                   1                             ORG 000
0000 78C0              2                             mov R0,#11000000b
0002 7E18              3                             mov R6,#00011000b
0004 750A10            4                             mov 10,#00010000b
0007 750B08            5                             mov 11,#00001000b
000A 02000D            6                             LJMP MAIN
                       7                             
000D                   8     MAIN:           ;LJMP PATTERN1
000D E580              9                             mov A,P0
000F 54E0             10                             ANL A,#11100000b
0011 F5A0             11                             mov P2,A
0013 1191             12                             ACALL DELAY
0015 B42005           13                             CJNE A,#20H,N1
0018 02005C           14                             LJMP PATTERN1
001B 80F0             15                             SJMP MAIN
                      16                             ;CJNE A,#001,N1
                      17                             ;LJMP PATTERN1
                      18                             ;JMP MAIN
                      19                             
001D F5A0             20     N1:             mov P2,A
001F B44006           21                     CJNE A,#040H,N2
0022 020080           22                     LJMP PATTERN2
0025 02000D           23                     LJMP MAIN
                      24                     
0028 F5A0             25     N2:             mov P2,A
002A B46006           26                     CJNE A,#060H,N3
002D 759060           27                     mov P1,#060H
0030 02000D           28                     LJMP MAIN
                      29                     
0033 F5A0             30     N3:             mov P2,A
0035 B48006           31                     CJNE A,#080H,N4
0038 759080           32                     mov P1,#080H
003B 02000D           33                     LJMP MAIN
                      34                     
003E F5A0             35     N4:             mov P2,A
0040 B4A006           36                     CJNE A,#0A0H,N5
0043 7590A0           37                     mov P1,#0A0H
0046 02000D           38                     LJMP MAIN
                      39                     
0049 F5A0             40     N5:             mov P2,A
004B B4C006           41                     CJNE A,#0C0H,N6
004E 7590C0           42                     mov P1,#0C0H
0051 02000D           43                     LJMP MAIN
                      44                     
0054 F5A0             45     N6:             mov P2,A
0056 759007           46                     mov P1,#00000111b
0059 02000D           47                     LJMP MAIN               
                      48                             
                      49                     
005C E8               50     PATTERN1:       mov A, R0
005D B4C004           51                             CJNE A,#11000000b,CHECK ; call check if false
0060 F9               52                             mov R1,A ; indicator to go right
0061 02006D           53                             LJMP ROTATE
                      54                             ;ANL A,#11000000b
                      55                             ;JZ  CHANGE
                      56                             
0064 E8               57                             CHECK:          mov A,R0
0065 B40305           58                                                     CJNE A,#00000011b,ROTATE; Rotate if non of 
A51 MACRO ASSEMBLER  LAB3                                                                 03/03/2015 18:39:59 PAGE     2

                             the condition is met
0068 7900             59                                                     mov R1,#0 ; indicator to go left
006A 02006D           60                                                     LJMP ROTATE
                      61                             
006D E9               62                             ROTATE:         mov A, R1
006E 7008             63                                                     JNZ RROTATE; rotate right
0070 E8               64                                                     mov A, R0
0071 23               65                                                     RL A
0072 F8               66                                                     mov R0,A
0073 F590             67                                                     mov P1,A
0075 02000D           68                                                     LJMP MAIN
                      69                                             
0078 E8               70                             RROTATE:        mov A,R0
0079 03               71                                                     RR A
007A F8               72                                                     mov R0,A
007B F590             73                                                     mov P1,A
007D 02000D           74                                                     LJMP MAIN
                      75                       
0080 E50A             76     PATTERN2:       mov A,10
0082 23               77                             RL      A
0083 F50A             78                             mov 10,A
0085 E50B             79                             mov A,11
0087 03               80                             RR      A
0088 F50B             81                             mov 11,A
008A 250A             82                             ADD A,10
008C F590             83                             mov P1,A
008E 02000D           84                             LJMP MAIN
                      85                             
                      86     
0091 7D30             87     DELAY: mov r5,#30H
0093 7CFF             88     lp3:   mov r4,#0FFH
0095 7BFF             89     lp2:   mov r3,#0FFH
0097 DBFE             90     lp1:   djnz r3,lp1
0099 DCFA             91            djnz r4,lp2
009B DDF6             92                djnz r5,lp3
009D 22               93                RET
                      94                
                      95                
*** WARNING #A41 IN 95 (lab3.a51, LINE 95): MISSING 'END' STATEMENT
A51 MACRO ASSEMBLER  LAB3                                                                 03/03/2015 18:39:59 PAGE     3

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

CHECK. . . . . . .  C ADDR   0064H   A   
DELAY. . . . . . .  C ADDR   0091H   A   
LP1. . . . . . . .  C ADDR   0097H   A   
LP2. . . . . . . .  C ADDR   0095H   A   
LP3. . . . . . . .  C ADDR   0093H   A   
MAIN . . . . . . .  C ADDR   000DH   A   
N1 . . . . . . . .  C ADDR   001DH   A   
N2 . . . . . . . .  C ADDR   0028H   A   
N3 . . . . . . . .  C ADDR   0033H   A   
N4 . . . . . . . .  C ADDR   003EH   A   
N5 . . . . . . . .  C ADDR   0049H   A   
N6 . . . . . . . .  C ADDR   0054H   A   
P0 . . . . . . . .  D ADDR   0080H   A   
P1 . . . . . . . .  D ADDR   0090H   A   
P2 . . . . . . . .  D ADDR   00A0H   A   
PATTERN1 . . . . .  C ADDR   005CH   A   
PATTERN2 . . . . .  C ADDR   0080H   A   
ROTATE . . . . . .  C ADDR   006DH   A   
RROTATE. . . . . .  C ADDR   0078H   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  1 WARNING(S), 0 ERROR(S)
