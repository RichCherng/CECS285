A51 MACRO ASSEMBLER  LAB3                                                                 03/04/2015 10:24:03 PAGE     1


MACRO ASSEMBLER A51 V8.02b
OBJECT MODULE PLACED IN lab3.OBJ
ASSEMBLER INVOKED BY: C:\Keil_v5\C51\BIN\A51.EXE lab3.a51 SET(SMALL) DEBUG EP

LOC  OBJ            LINE     SOURCE

0000                   1                             ORG 000
0000 78C0              2                             mov R0,#11000000b
0002 7E1C              3                             mov R6,#00011100b
0004 750A10            4                             mov 10,#00010000b
0007 750B08            5                             mov 11,#00001000b
000A 750C01            6                             mov 12,#1
000D 020010            7                             LJMP MAIN
                       8                             
0010                   9     MAIN:           ;LJMP PATTERN1
0010 E580             10                             mov A,P0
0012 54E0             11                             ANL A,#11100000b
0014 F5A0             12                             mov P2,A
0016 11C9             13                             ACALL DELAY
0018 B42005           14                             CJNE A,#20H,N1
001B 02006E           15                             LJMP PATTERN1
001E 80F0             16                             SJMP MAIN
                      17                             ;CJNE A,#001,N1
                      18                             ;LJMP PATTERN1
                      19                             ;JMP MAIN
                      20                             
0020 F5A0             21     N1:             mov P2,A
0022 B44009           22                     CJNE A,#040H,N2
0025 759040           23                     mov P1,#040H
0028 020092           24                     LJMP PATTERN2
002B 020010           25                     LJMP MAIN
                      26                     
002E F5A0             27     N2:             mov P2,A
0030 B46009           28                     CJNE A,#060H,N3
0033 759060           29                     mov P1,#060H
0036 020092           30                     LJMP PATTERN2
0039 020010           31                     LJMP MAIN
                      32                     
003C F5A0             33     N3:             mov P2,A
003E B48009           34                     CJNE A,#080H,N4
0041 759080           35                     mov P1,#080H
0044 0200A3           36                     LJMP PATTERN4
0047 020010           37                     LJMP MAIN
                      38                     
004A F5A0             39     N4:             mov P2,A
004C B4A009           40                     CJNE A,#0A0H,N5
004F 7590A0           41                     mov P1,#0A0H
0052 0200B9           42                     LJMP PATTERN5
0055 020010           43                     LJMP MAIN
                      44                     
0058 F5A0             45     N5:             mov P2,A
005A B4C009           46                     CJNE A,#0C0H,N6
005D 7590C0           47                     mov P1,#0C0H
0060 0200C1           48                     LJMP PATTERN6
0063 020010           49                     LJMP MAIN
                      50                     
0066 F5A0             51     N6:             mov P2,A
0068 759007           52                     mov P1,#00000111b
006B 020010           53                     LJMP MAIN               
                      54                             
                      55                     
006E E8               56     PATTERN1:       mov A, R0
006F B4C004           57                             CJNE A,#11000000b,CHECK ; call check if false
0072 F9               58                             mov R1,A ; indicator to go right
A51 MACRO ASSEMBLER  LAB3                                                                 03/04/2015 10:24:03 PAGE     2

0073 02007F           59                             LJMP ROTATE
                      60                             ;ANL A,#11000000b
                      61                             ;JZ  CHANGE
                      62                             
0076 E8               63                             CHECK:          mov A,R0
0077 B40305           64                                                     CJNE A,#00000011b,ROTATE; Rotate if non of 
                             the condition is met
007A 7900             65                                                     mov R1,#0 ; indicator to go left
007C 02007F           66                                                     LJMP ROTATE
                      67                             
007F E9               68                             ROTATE:         mov A, R1
0080 7008             69                                                     JNZ RROTATE; rotate right
0082 E8               70                                                     mov A, R0
0083 23               71                                                     RL A
0084 F8               72                                                     mov R0,A
0085 F590             73                                                     mov P1,A
0087 020010           74                                                     LJMP MAIN
                      75                                             
008A E8               76                             RROTATE:        mov A,R0
008B 03               77                                                     RR A
008C F8               78                                                     mov R0,A
008D F590             79                                                     mov P1,A
008F 020010           80                                                     LJMP MAIN
                      81                       
0092 E50A             82     PATTERN2:       mov A,10
0094 23               83                             RL      A
0095 F50A             84                             mov 10,A
0097 E50B             85                             mov A,11
0099 03               86                             RR      A
009A F50B             87                             mov 11,A
009C 250A             88                             ADD A,10
009E F590             89                             mov P1,A
00A0 020010           90                             LJMP MAIN
                      91                             
00A3                  92     PATTERN4:       
00A3 E50C             93                             mov A, 12
00A5 F4               94                             CPL A
00A6 F50C             95                             mov 12, A
00A8 F5B0             96                             mov P3,A
00AA B4FE06           97                             CJNE A,#11111110b,SHOW
00AD 759055           98                             mov P1,#01010101b
00B0 020010           99                             LJMP MAIN
                     100                             
00B3 7590AA          101                             SHOW:   mov P1,#10101010b
00B6 020010          102                                             LJMP MAIN
                     103                     
00B9 8E90            104     PATTERN5:       mov P1,R6
00BB EE              105                             mov A, R6
00BC 23              106                             RL      A
00BD FE              107                             mov R6,A
00BE 020010          108                             LJMP MAIN
                     109                             
00C1 8E90            110     PATTERN6:       mov P1,R6
00C3 EE              111                             mov A, R6
00C4 03              112                             RR      A
00C5 FE              113                             mov R6,A
00C6 020010          114                             LJMP MAIN
                     115     
00C9 7D30            116     DELAY: mov r5,#30H
00CB 7CFF            117     lp3:   mov r4,#0FFH
00CD 7BFF            118     lp2:   mov r3,#0FFH
00CF DBFE            119     lp1:   djnz r3,lp1
00D1 DCFA            120            djnz r4,lp2
00D3 DDF6            121                djnz r5,lp3
00D5 22              122                RET
                     123                
A51 MACRO ASSEMBLER  LAB3                                                                 03/04/2015 10:24:03 PAGE     3

                     124                
*** WARNING #A41 IN 124 (lab3.a51, LINE 124): MISSING 'END' STATEMENT
A51 MACRO ASSEMBLER  LAB3                                                                 03/04/2015 10:24:03 PAGE     4

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

CHECK. . . . . . .  C ADDR   0076H   A   
DELAY. . . . . . .  C ADDR   00C9H   A   
LP1. . . . . . . .  C ADDR   00CFH   A   
LP2. . . . . . . .  C ADDR   00CDH   A   
LP3. . . . . . . .  C ADDR   00CBH   A   
MAIN . . . . . . .  C ADDR   0010H   A   
N1 . . . . . . . .  C ADDR   0020H   A   
N2 . . . . . . . .  C ADDR   002EH   A   
N3 . . . . . . . .  C ADDR   003CH   A   
N4 . . . . . . . .  C ADDR   004AH   A   
N5 . . . . . . . .  C ADDR   0058H   A   
N6 . . . . . . . .  C ADDR   0066H   A   
P0 . . . . . . . .  D ADDR   0080H   A   
P1 . . . . . . . .  D ADDR   0090H   A   
P2 . . . . . . . .  D ADDR   00A0H   A   
P3 . . . . . . . .  D ADDR   00B0H   A   
PATTERN1 . . . . .  C ADDR   006EH   A   
PATTERN2 . . . . .  C ADDR   0092H   A   
PATTERN4 . . . . .  C ADDR   00A3H   A   
PATTERN5 . . . . .  C ADDR   00B9H   A   
PATTERN6 . . . . .  C ADDR   00C1H   A   
ROTATE . . . . . .  C ADDR   007FH   A   
RROTATE. . . . . .  C ADDR   008AH   A   
SHOW . . . . . . .  C ADDR   00B3H   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  1 WARNING(S), 0 ERROR(S)
